# For Orthros:
# 384:
#sites: [orthros_noshm384,orthros_shm384]
# 112:
#sites: [orthros_noshm112,orthros_shm112]

# For LCRC:
# 64:
#sites: [lcrc_noshm,lcrc_shm]

# For Edison (NERSC):
# 120:
#sites: [edison_noshm,edison_shm]

# For Biocluster (UCR):
# 256:
#sites: [biocluster_noshm,biocluster_shm]

site.ort_shm384 {
	execution {
		type: "coaster"
		URL: "localhost"
		jobManager: "local:sge"
		options {
			nodeGranularity: 6
			jobQueue: "sec1all.q"
			maxNodesPerJob: 6
			#pe: "sec1_all"
			maxJobs: 1
			jobOptions.ppn: 64
			highOverallocation: 100
			softImage="/dev/shm/bins.tar.gz /dev/shm"
			maxJobTime: "55:33:20"
			lowOverallocation: 100
			tasksPerNode: 64
		}
	}
	filesystem {
		type: "local"
		URL: "localhost"
	}
	workDirectory: "/tmp/"${env.USER}"/swiftwork"
	maxParallelTasks: 384
	initialParallelTasks: 383
	app.indexstrains {
		executable: "/clhome/tomo1/opt/MIDAS/FF_HEDM/Cluster/IndexStrains.sh"
		maxWallTime: "50:00:00"
	}
	app.strainsrefine {
		executable: "/clhome/tomo1/opt/MIDAS/FF_HEDM/Cluster/StrainsRefine.sh"
		maxWallTime: "50:00:00"
	}
}

site.ort_noshm384 {
	execution {
		type: "coaster"
		URL: "localhost"
		jobManager: "local:sge"
		options {
			nodeGranularity: 6
			jobQueue: "sec1all.q"
			maxNodesPerJob: 6
			#pe: "sec1_all"
			maxJobs: 1
			jobOptions.ppn: 64
			highOverallocation: 100
			maxJobTime: "55:33:20"
			lowOverallocation: 100
			tasksPerNode: 64
		}
	}
	filesystem {
		type: "local"
		URL: "localhost"
	}
	workDirectory: "/tmp/"${env.USER}"/swiftwork"
	maxParallelTasks: 384
	initialParallelTasks: 383
	app.peaks {
		executable: "/clhome/tomo1/opt/MIDAS/FF_HEDM/Cluster/Peaks.sh"
		maxWallTime: "50:00:00"
	}
	app.processPeaks {
		executable: "/clhome/tomo1/opt/MIDAS/FF_HEDM/Cluster/ProcessPeaks.sh"
		maxWallTime: "50:00:00"
	}
}

site.ort_shm112 {
	execution {
		type: "coaster"
		URL: "localhost"
		jobManager: "local:sge"
		options {
			nodeGranularity: 7
			jobQueue: "sec1all.q"
			maxNodesPerJob: 7
			#pe: "sec1_all"
			maxJobs: 1
			jobOptions.ppn: 16
			highOverallocation: 100
			softImage="/dev/shm/bins.tar.gz /dev/shm"
			maxJobTime: "55:33:20"
			lowOverallocation: 100
			tasksPerNode: 16
		}
	}
	filesystem {
		type: "local"
		URL: "localhost"
	}
	workDirectory: "/tmp/"${env.USER}"/swiftwork"
	maxParallelTasks: 112
	initialParallelTasks: 111
	app.indexstrains {
		executable: "/clhome/tomo1/opt/MIDAS/FF_HEDM/Cluster/IndexStrains.sh"
		maxWallTime: "50:00:00"
	}
	app.strainsrefine {
		executable: "/clhome/tomo1/opt/MIDAS/FF_HEDM/Cluster/StrainsRefine.sh"
		maxWallTime: "50:00:00"
	}
}

site.ort_noshm112 {
	execution {
		type: "coaster"
		URL: "localhost"
		jobManager: "local:sge"
		options {
			nodeGranularity: 7
			jobQueue: "sec1all.q"
			maxNodesPerJob: 7
			#pe: "sec1_all"
			maxJobs: 1
			jobOptions.ppn: 16
			highOverallocation: 100
			maxJobTime: "55:33:20"
			lowOverallocation: 100
			tasksPerNode: 16
		}
	}
	filesystem {
		type: "local"
		URL: "localhost"
	}
	workDirectory: "/tmp/"${env.USER}"/swiftwork"
	maxParallelTasks: 112
	initialParallelTasks: 111
	app.peaks {
		executable: "/clhome/tomo1/opt/MIDAS/FF_HEDM/Cluster/Peaks.sh"
		maxWallTime: "50:00:00"
	}
	app.processPeaks {
		executable: "/clhome/tomo1/opt/MIDAS/FF_HEDM/Cluster/ProcessPeaks.sh"
		maxWallTime: "50:00:00"
	}
}

site.lcrc_shm64 {
	execution {
		type: "coaster"
		URL: "localhost"
		jobManager: "local:pbs"
		options {
			nodeGranularity: 2
			maxNodesPerJob: 2
			maxJobs: 1
			jobOptions.ppn: 32
			highOverallocation: 100
			softImage="/dev/shm/bins.tar.gz /dev/shm"
			maxJobTime: "55:33:20"
			lowOverallocation: 100
			tasksPerNode: 32
		}
	}
	filesystem {
		type: "local"
		URL: "localhost"
	}
	workDirectory: "/tmp/"${env.USER}"/swiftwork"
	maxParallelTasks: 64
	initialParallelTasks: 63
	app.indexstrains {
		executable: "/home/centos/opt/MIDAS/FF_HEDM/Cluster/IndexStrains.sh"
		maxWallTime: "50:00:00"
	}
	app.strainsrefine {
		executable: "/home/centos/opt/MIDAS/FF_HEDM/Cluster/StrainsRefine.sh"
		maxWallTime: "50:00:00"
	}
}

site.lcrc_noshm64 {
	execution {
		type: "coaster"
		URL: "localhost"
		jobManager: "local:pbs"
		options {
			nodeGranularity: 2
			maxNodesPerJob: 2
			maxJobs: 1
			jobOptions.ppn: 32
			highOverallocation: 100
			maxJobTime: "55:33:20"
			lowOverallocation: 100
			tasksPerNode: 32
		}
	}
	filesystem {
		type: "local"
		URL: "localhost"
	}
	workDirectory: "/tmp/"${env.USER}"/swiftwork"
	maxParallelTasks: 64
	initialParallelTasks: 63
	app.peaks {
		executable: "/home/centos/opt/MIDAS/FF_HEDM/Cluster/Peaks.sh"
		maxWallTime: "50:00:00"
	}
	app.processPeaks {
		executable: "/home/centos/opt/MIDAS/FF_HEDM/Cluster/ProcessPeaks.sh"
		maxWallTime: "50:00:00"
	}
}

site.edison_shm120 {
	execution {
		type: "coaster"
		URL: "localhost"
		jobManager: "local:slurm"
		options {
			nodeGranularity: 5
			maxNodesPerJob: 5
			maxJobs: 1
			jobOptions {
               	jobType     : "single"                   # Submit jobs via aprun mechanism
            }
			#tasksPerNode: 24
			maxJobTime: "10:33:20"
			jobQueue: "debug"
			highOverallocation: 100
			softImage="/dev/shm/bins.tar.gz /dev/shm"
			lowOverallocation: 100
		}
	}
	staging : "local"
	workDirectory: "/tmp/"${env.USER}"/swiftwork"
	maxParallelTasks: 101
	initialParallelTasks: 100
	app.indexstrains {
		executable: ""${env.USER}"/opt/MIDAS/FF_HEDM/Cluster/IndexStrains.sh"
		maxWallTime: "50:00:00"
	}
	app.strainsrefine {
		executable: ""${env.USER}"/opt/MIDAS/FF_HEDM/Cluster/StrainsRefine.sh"
		maxWallTime: "50:00:00"
	}
}

site.edison_noshm120 {
	execution {
		type: "coaster"
		URL: "localhost"
		jobManager: "local:slurm"
		options {
			nodeGranularity: 5
			maxNodesPerJob: 5
			maxJobs: 1
			jobOptions {
               	jobType     : "single"                   # Submit jobs via aprun mechanism
            }
			#tasksPerNode: 24
			maxJobTime: "10:33:20"
			jobQueue: "debug"
			highOverallocation: 100
			lowOverallocation: 100
		}
	}
	staging : "local"
	workDirectory: "/tmp/"${env.USER}"/swiftwork"
	maxParallelTasks: 64
	initialParallelTasks: 63
	app.peaks {
		executable: ""${env.USER}"/opt/MIDAS/FF_HEDM/Cluster/Peaks.sh"
		maxWallTime: "50:00:00"
	}
	app.processPeaks {
		executable: ""${env.USER}"/opt/MIDAS/FF_HEDM/Cluster/ProcessPeaks.sh"
		maxWallTime: "50:00:00"
	}
}

site.bio_shm256 {
	execution {
		type: "coaster"
		URL: "localhost"
		jobManager: "local:slurm"
		options {
			nodeGranularity: 4
			maxNodesPerJob: 4
			maxJobs: 1
			tasksPerNode: 24
			jobOptions {
				slurm.mem-per-cpu: "1G"
			}
			maxJobTime: "10:33:20"
			jobQueue: "batch"
			highOverallocation: 100
			softImage="/dev/shm/bins.tar.gz /dev/shm"
			lowOverallocation: 100
		}
	}
	staging : "local"
	workDirectory: "/tmp/"${env.USER}"/swiftwork"
	maxParallelTasks: 101
	initialParallelTasks: 100
	app.indexstrains {
		executable: ""${env.USER}"/opt/MIDAS/FF_HEDM/Cluster/IndexStrains.sh"
		maxWallTime: "50:00:00"
	}
	app.strainsrefine {
		executable: ""${env.USER}"/opt/MIDAS/FF_HEDM/Cluster/StrainsRefine.sh"
		maxWallTime: "50:00:00"
	}
}

site.bio_noshm256 {
	execution {
		type: "coaster"
		URL: "localhost"
		jobManager: "local:slurm"
		options {
			nodeGranularity: 4
			maxNodesPerJob: 4
			maxJobs: 1
			tasksPerNode: 24
			jobOptions {
				slurm.mem-per-cpu: "1G"
			}
			maxJobTime: "10:33:20"
			jobQueue: "batch"
			highOverallocation: 100
			lowOverallocation: 100
		}
	}
	staging : "local"
	workDirectory: "/tmp/"${env.USER}"/swiftwork"
	maxParallelTasks: 64
	initialParallelTasks: 63
	app.peaks {
		executable: ""${env.USER}"/opt/MIDAS/FF_HEDM/Cluster/Peaks.sh"
		maxWallTime: "50:00:00"
	}
	app.processPeaks {
		executable: ""${env.USER}"/opt/MIDAS/FF_HEDM/Cluster/ProcessPeaks.sh"
		maxWallTime: "50:00:00"
	}
}

site.conte_shm64 {
	execution {
		type: "coaster"
		URL: "localhost"
		jobManager: "local:pbs"
		options {
			nodeGranularity: 4
			maxNodesPerJob: 4
			maxJobs: 1
			jobOptions.ppn: 16
			highOverallocation: 100
			softImage="/dev/shm/bins.tar.gz /dev/shm"
			maxJobTime: "55:33:20"
			lowOverallocation: 100
			tasksPerNode: 16
		}
	}
	filesystem {
		type: "local"
		URL: "localhost"
	}
	workDirectory: "/tmp/"${env.USER}"/swiftwork"
	maxParallelTasks: 64
	initialParallelTasks: 63
	app.indexstrains {
		executable: ""${env.USER}"/opt/MIDAS/FF_HEDM/Cluster/IndexStrains.sh"
		maxWallTime: "50:00:00"
	}
	app.strainsrefine {
		executable: ""${env.USER}"/opt/MIDAS/FF_HEDM/Cluster/StrainsRefine.sh"
		maxWallTime: "50:00:00"
	}
}

site.conte_noshm64 {
	execution {
		type: "coaster"
		URL: "localhost"
		jobManager: "local:pbs"
		options {
			nodeGranularity: 4
			maxNodesPerJob: 4
			maxJobs: 1
			jobOptions.ppn: 16
			highOverallocation: 100
			maxJobTime: "55:33:20"
			lowOverallocation: 100
			tasksPerNode: 16
		}
	}
	filesystem {
		type: "local"
		URL: "localhost"
	}
	workDirectory: "/tmp/"${env.USER}"/swiftwork"
	maxParallelTasks: 64
	initialParallelTasks: 63
	app.peaks {
		executable: ""${env.USER}"/opt/MIDAS/FF_HEDM/Cluster/Peaks.sh"
		maxWallTime: "50:00:00"
	}
	app.processPeaks {
		executable: ""${env.USER}"/opt/MIDAS/FF_HEDM/Cluster/ProcessPeaks.sh"
		maxWallTime: "50:00:00"
	}
}

site.rice_shm64 {
	execution {
		type: "coaster"
		URL: "localhost"
		jobManager: "local:pbs"
		options {
			nodeGranularity: 5
			maxNodesPerJob: 5
			maxJobs: 1
			jobOptions.ppn: 20
			highOverallocation: 100
			softImage="/dev/shm/bins.tar.gz /dev/shm"
			maxJobTime: "55:33:20"
			lowOverallocation: 100
			tasksPerNode: 20
		}
	}
	filesystem {
		type: "local"
		URL: "localhost"
	}
	workDirectory: "/tmp/"${env.USER}"/swiftwork"
	maxParallelTasks: 100
	initialParallelTasks: 99
	app.indexstrains {
		executable: ""${env.USER}"/opt/MIDAS/FF_HEDM/Cluster/IndexStrains.sh"
		maxWallTime: "50:00:00"
	}
	app.strainsrefine {
		executable: ""${env.USER}"/opt/MIDAS/FF_HEDM/Cluster/StrainsRefine.sh"
		maxWallTime: "50:00:00"
	}
}

site.rice_noshm64 {
	execution {
		type: "coaster"
		URL: "localhost"
		jobManager: "local:pbs"
		options {
			nodeGranularity: 5
			maxNodesPerJob: 5
			maxJobs: 1
			jobOptions.ppn: 20
			highOverallocation: 100
			maxJobTime: "55:33:20"
			lowOverallocation: 100
			tasksPerNode: 20
		}
	}
	filesystem {
		type: "local"
		URL: "localhost"
	}
	workDirectory: "/tmp/"${env.USER}"/swiftwork"
	maxParallelTasks: 100
	initialParallelTasks: 99
	app.peaks {
		executable: ""${env.USER}"/opt/MIDAS/FF_HEDM/Cluster/Peaks.sh"
		maxWallTime: "50:00:00"
	}
	app.processPeaks {
		executable: ""${env.USER}"/opt/MIDAS/FF_HEDM/Cluster/ProcessPeaks.sh"
		maxWallTime: "50:00:00"
	}
}


lazyErrors: false
executionRetries: 0
keepSiteDir: false
#statusMode: "provider"
#tickerPrefix: "Job status: "
wrapperParameterMode: "args"
#mappingCheckerEnabled: false
#providerStagingPinSwiftFiles: false
#fileGCEnabled: false
alwaysTransferWrapperLog: false
maxForeachThreads: 384
